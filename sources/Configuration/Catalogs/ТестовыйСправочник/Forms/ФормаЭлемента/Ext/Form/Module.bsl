
&НаКлиенте
Процедура Реквизит1ТипаЧислоНачалоВыбора(Элемент, ДанныеВыбора, СтандартнаяОбработка)
	// Вставить содержимое обработчика.
КонецПроцедуры

&НаКлиенте
Процедура Реквизит1ТипаЧислоОткрытие(Элемент, СтандартнаяОбработка)
	
	СтандартнаяОбработка = Ложь;
	
	ЗаголовокФормыСтруктурированногоЗначения = Элемент.Заголовок;
	Если ПустаяСтрока(ЗаголовокФормыСтруктурированногоЗначения) Тогда
		ЗаголовокФормыСтруктурированногоЗначения = ПолучитьЗаголовокЭлемента(Элемент.Имя);
	КонецЕсли;
	ПараметрыФормыСтруктурированногоЗначения = Новый Структура;
	ПараметрыФормыСтруктурированногоЗначения.Вставить("Заголовок", ЗаголовокФормыСтруктурированногоЗначения);
	ПараметрыФормыСтруктурированногоЗначения.Вставить("Данные", ЭтаФорма.Реквизит1ТипаЧислоДанные);
	ОповещениеОЗакрытииФормыСтруктурированногоЗначения = Новый ОписаниеОповещения("ОткрытьЧислоЗавершение", ЭтотОбъект,
		Новый Структура("Элемент", Элемент));
	ОткрытьФорму("ОбщаяФорма.ЧислоВЭкспоненциальнойЗаписи", ПараметрыФормыСтруктурированногоЗначения,
		ЭтаФорма, Строка(ЭтаФорма.УникальныйИдентификатор) + Элемент.Имя, , ,
		ОповещениеОЗакрытииФормыСтруктурированногоЗначения, РежимОткрытияОкнаФормы.БлокироватьОкноВладельца);
	
КонецПроцедуры
	
&НаСервере
Функция ПолучитьЗаголовокЭлемента(Знач ИмяЭлемента)
	
	Элемент = Элементы[ИмяЭлемента];
	Если ПустаяСтрока(Элемент.Заголовок) Тогда
		РеквизитыЭлемента = ЭтаФорма.ПолучитьРеквизиты(Элемент.ПутьКДанным);
		Если РеквизитыЭлемента.Количество() > 0 Тогда
			РеквизитЭлемента = РеквизитыЭлемента[0];
			Возврат РеквизитЭлемента.Заголовок;
		Иначе
			Возврат Элемент.Имя;
		КонецЕсли;
	Иначе
		Возврат Элемент.Заголовок;
	КонецЕсли;
	
КонецФункции
	
&НаКлиенте
Процедура ОткрытьЧислоЗавершение(Результат, ДополнительныеПараметры) Экспорт
	
	Если ТипЗнч(Результат) = Тип("Структура") Тогда
		ЭтаФорма.Реквизит1ТипаЧислоДанные = Результат;
		Объект.Реквизит1ТипаЧисло = ЧислаКлиентСервер.ПолучитьПредставлениеЧисла(ЭтаФорма.Реквизит1ТипаЧислоДанные);
		
		ЭтаФорма.Модифицированность = Истина;
	КонецЕсли;
	
КонецПроцедуры

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если Параметры.Ключ.Пустая() Тогда
		Если ЗначениеЗаполнено(Параметры.ЗначениеКопирования) Тогда
			ЭтаФорма.Реквизит1ТипаЧислоДанные = Параметры.ЗначениеКопирования.Реквизит1ТипаЧислоДанные.Получить();
		Иначе
			ЭтаФорма.Реквизит1ТипаЧислоДанные = ЧислаКлиентСервер.СтруктураЧисла();
		КонецЕсли;
	Иначе
		ЭтаФорма.Реквизит1ТипаЧислоДанные = Объект.Ссылка.Реквизит1ТипаЧислоДанные.Получить();
	КонецЕсли; 
	Объект.Реквизит1ТипаЧисло = ЧислаКлиентСервер.ПолучитьПредставлениеЧисла(ЭтаФорма.Реквизит1ТипаЧислоДанные);
	
КонецПроцедуры

&НаСервере
Процедура ПередЗаписьюНаСервере(Отказ, ТекущийОбъект, ПараметрыЗаписи)
	
	ТекущийОбъект.Реквизит1ТипаЧислоДанные = Новый ХранилищеЗначения(ЭтаФорма.Реквизит1ТипаЧислоДанные);
	
КонецПроцедуры
